(this.webpackJsonpauctioneer=this.webpackJsonpauctioneer||[]).push([[0],{62:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(23),a=c(10),s=c(73),i=c(44),o=(c(53),c(63),c(64),i.a.initializeApp({apiKey:"AIzaSyB2F4R4KkxUwb4GFKs7twRhiHS5i-i51D4",authDomain:"scopic-73416.firebaseapp.com",projectId:"scopic-73416",storageBucket:"scopic-73416.appspot.com",messagingSenderId:"475263107333",appId:"1:475263107333:web:27180a036864e16618376c"})),j=(i.a.firestore.FieldValue.serverTimestamp,o.firestore()),u=(o.storage(),o.auth()),l=c(2),b=Object(r.createContext)(),d=function(e){var t=e.children,c=Object(r.useState)(null),n=Object(a.a)(c,2),s=n[0],i=n[1],o=Object(r.useState)(!0),d=Object(a.a)(o,2),O=d[0],x=d[1],h=Object(r.useState)(""),f=Object(a.a)(h,2),p=f[0],m=f[1];return Object(r.useEffect)((function(){return u.onAuthStateChanged((function(e){i(e),x(!1)}))}),[]),Object(r.useEffect)((function(){var e=setTimeout((function(){return m("")}),5e3);return function(){return clearTimeout(e)}}),[p]),Object(l.jsx)(b.Provider,{value:{currentUser:s,register:function(e,t){return u.createUserWithEmailAndPassword(e,t)},login:function(e,t){return u.signInWithEmailAndPassword(e,t)},logout:function(){return u.signOut()},bidAuction:function(e){return j.collection("auctions").doc(e).update({acuerdo:!0})},noteContext:function(e,t){return j.collection("auctions").doc(e).update({note:t})},endAuction:function(e){return j.collection("auctions").doc(e).delete()},globalMsg:p},children:!O&&t})},O=c(70),x=c(30),h=function(e){var t=Object(r.useState)(0),c=Object(a.a)(t,2),n=c[0],s=(c[1],Object(r.useState)(!0)),i=Object(a.a)(s,2),o=i[0];i[1];return Object(r.useState)((function(){j.collection("auctions").add(Object(x.a)({},e))}),[e]),{progress:n,isCompleted:o}},f=function(e){var t=e.auction,c=e.setAuction,n=h(t),a=n.progress,s=n.isCompleted;return Object(r.useEffect)((function(){s&&c(null)}),[s,c]),Object(l.jsx)(O.a.div,{style:{height:"5px",background:"black"},initial:{width:0},animate:{width:"".concat(a,"%")}})},p=c(48),m=Object(r.createContext)(),v=function(e){var t=e.children,c=function(e){var t=Object(r.useState)([]),c=Object(a.a)(t,2),n=c[0],s=c[1];return Object(r.useEffect)((function(){var t=j.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:n}}("auctions").docs,n=Object(p.a)(c),s=Object(r.useState)(n),i=Object(a.a)(s,2),o=i[0],u=i[1];return Object(l.jsx)(m.Provider,{value:{handleDB:function(e){u(e)},DB:o},children:t})},g=c(20),w=c.n(g),C=c(24),y=c(71),S=c(68),N=c(47),R=c(72),k=c(69),A=function(e){var t=e.setAuction,c=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useRef)(),s=Object(r.useRef)(),i=Object(r.useRef)(),o=Object(r.useRef)(),j=Object(r.useRef)(),u=Object(r.useContext)(b).currentUser,d=function(){var e=Object(C.a)(w.a.mark((function e(r){var l,b,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),l=new Date,b=l.setHours(l.getHours()),d={email:u.email,title:c.current.value,title1:n.current.value,title2:a.current.value,title3:s.current.value,description:i.current.value,duration:b,categorie:o.current.value,completed:!1},t(d),j.current.reset();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=!!u;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{onSubmit:d,className:O?"border border-danger w-75 p-3 mt-5":"d-none",style:{marginLeft:"12.5%"},ref:j,children:[Object(l.jsxs)(y.a.Body,{children:[Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsxs)(R.a.Group,{className:"bg-secondary text-center p-2 text-white w-100 mb-4",children:["Encargado en Turno: ",null===u||void 0===u?void 0:u.email.slice(0,-10)]})})}),Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsx)(R.a.Group,{className:"mb-4",children:Object(l.jsx)(R.a.Control,{type:"number",required:!0,ref:c,placeholder:"Numero de Unidad"})})})}),Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsx)(R.a.Group,{className:"mb-3",children:Object(l.jsx)(R.a.Control,{type:"text",required:!0,ref:s,placeholder:"Nombre de Taxista"})})})}),Object(l.jsx)(S.a,{children:Object(l.jsxs)(N.a,{children:[Object(l.jsx)(R.a.Label,{children:"Categoria"}),Object(l.jsxs)(R.a.Control,{as:"select",multiple:!1,ref:o,className:"mb-3",children:[Object(l.jsx)("option",{disabled:!0,children:"Selecciona una Opcion        "}),Object(l.jsx)("option",{value:"mantenimiento",children:" Mantenimiento  "}),Object(l.jsx)("option",{value:"reparacion",children:"    Reparacion     "}),Object(l.jsx)("option",{value:"choque",children:"        Choque         "}),Object(l.jsx)("option",{value:"llantas",children:"       LLantas        "})]})]})}),Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsxs)(R.a.Group,{className:"mb-3",children:[Object(l.jsx)(R.a.Label,{children:"Algo"}),Object(l.jsx)(R.a.Control,{type:"text",required:!0,ref:n})]})})}),Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsxs)(R.a.Group,{className:"mb-3",children:[Object(l.jsx)(R.a.Label,{children:"Costo Total"}),Object(l.jsx)(R.a.Control,{type:"number",required:!0,ref:a})]})})}),Object(l.jsx)(S.a,{children:Object(l.jsx)(N.a,{children:Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Comentarios"}),Object(l.jsx)(R.a.Control,{type:"text",required:!0,ref:i})]})})})]}),Object(l.jsx)(y.a.Footer,{children:Object(l.jsx)(k.a,{variant:"secondary",type:"submit",className:"w-100",children:"Guardar Ticket"})})]})})},L=function(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),c=t[0],n=t[1];console.log(c);var i=Object(r.useContext)(b),o=(i.currentUser,i.globalMsg),j=(Object(r.useContext)(m).DB,Object(r.useState)()),u=Object(a.a)(j,2);u[0],u[1];return Object(l.jsxs)("div",{className:"container-fluid",children:[c&&Object(l.jsx)(f,{auction:c,setAuction:n}),Object(l.jsx)("div",{style:{zIndex:"9999999"},className:"text-center w-50 position-fixed top-10 start-50 translate-middle",children:o&&Object(l.jsx)(s.a,{variant:"danger",children:o})}),Object(l.jsx)("div",{children:Object(l.jsx)(A,{setAuction:n})})]})},E=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),c=(t[0],t[1]),n=Object(r.useState)(""),i=Object(a.a)(n,2),o=i[0],j=i[1],u=Object(r.useRef)(),d=Object(r.useRef)(),O=Object(r.useContext)(b).login,x=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(""),e.prev=2,e.next=5,O(u.current.value,d.current.value);case 5:c(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),j("Invalid login");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{onSubmit:x,className:"",children:[Object(l.jsx)(y.a.Header,{children:Object(l.jsx)(y.a.Title,{children:"Entrar"})}),Object(l.jsxs)(y.a.Body,{children:[o&&Object(l.jsx)(s.a,{variant:"danger",children:o}),Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Email "}),Object(l.jsx)(R.a.Control,{type:"email",required:!0,ref:u,className:"mb-3"})]}),Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Password"}),Object(l.jsx)(R.a.Control,{type:"password",required:!0,ref:d,className:"mb-4"})]})]}),Object(l.jsx)(y.a.Footer,{children:Object(l.jsx)(k.a,{variant:"dark",type:"submit",className:"w-100 mb-5 mt-5",children:"Entrar"})})]})})},G=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)(""),o=Object(a.a)(i,2),j=o[0],u=o[1],d=Object(r.useRef)(),O=Object(r.useRef)(),x=Object(r.useRef)(),h=Object(r.useContext)(b).register,f=function(){return n(!1)},p=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u(""),O.current.value===x.current.value){e.next=4;break}return e.abrupt("return",u("Passwords does not match"));case 4:return e.prev=4,e.next=7,h(d.current.value,O.current.value);case 7:f(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),u(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(y.a,{centered:!0,show:c,onHide:f,children:Object(l.jsxs)("form",{onSubmit:p,children:[Object(l.jsx)(y.a.Header,{children:Object(l.jsx)(y.a.Title,{children:"Registro"})}),Object(l.jsxs)(y.a.Body,{children:[j&&Object(l.jsx)(s.a,{variant:"danger",children:j}),Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Email"}),Object(l.jsx)(R.a.Control,{type:"email",required:!0,ref:d})]}),Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Password"}),Object(l.jsx)(R.a.Control,{type:"password",required:!0,ref:O})]}),Object(l.jsxs)(R.a.Group,{children:[Object(l.jsx)(R.a.Label,{children:"Confirmar Password"}),Object(l.jsx)(R.a.Control,{type:"password",required:!0,ref:x})]})]}),Object(l.jsxs)(y.a.Footer,{children:[Object(l.jsx)(k.a,{variant:"secondary",onClick:f,children:"Cancelar"}),Object(l.jsx)(k.a,{variant:"primary",type:"submit",children:"Registrar"})]})]})})})},q=function(){var e=Object(r.useContext)(b),t=e.currentUser,c=e.logout,n=!!t;return Object(l.jsx)("nav",{className:"container-fluid bg-danger",children:Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("div",{className:n?"col-11 navbar-brand text-white":"m-5 text-white fs-1",children:"TALLER TAXIS C-10"}),t?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{onClick:function(){return c()},className:n?"m-2 text-center col-1 text-white":"border",children:"SALIR"})}):Object(l.jsxs)("div",{className:"border col-8 mb-5 mt-5",style:{backgroundColor:"rgb(244,234,234)"},children:[Object(l.jsx)(E,{}),Object(l.jsx)(G,{})]})]})})})},T=function(){return Object(l.jsx)(d,{children:Object(l.jsxs)(v,{children:[Object(l.jsx)(q,{}),Object(l.jsx)(L,{})]})})};c(61);Object(n.render)(Object(l.jsx)(T,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.498ff928.chunk.js.map